{"version":3,"sources":["all.js"],"names":["API_url","newData","axios","get","then","res","data","init","checkBoxSwitch","console","log","todoStr","forEach","item","index","length","todo_ul","innerHTML","filterRender","filterData","API_Post","createObj","post","API_Delete","origin_id","err","API_DeleteAll","i","$","click","e","preventDefault","find","toggleClass","parentNode","todoList","document","querySelector","addTodo","checkbox_item","addEventListener","target","textContent","allList","addClass","hasToDoList","removeClass","finishList","filter","value","getAttribute","Number","splice","innerText","alert","content","check","code"],"mappings":"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","file":"all.js","sourcesContent":["const API_url = `https://fathomless-brushlands-42339.herokuapp.com/todo3`;\n\nlet newData = [];\n\naxios\n  .get(API_url)\n  .then((res) => {\n    newData = res.data;\n    init();\n    checkBoxSwitch()\n\n  })\n  .catch((res) => {\n    console.log(res);\n  });\n\n// 函式 => 初始化渲染\nfunction init() {\n  let todoStr = ``;\n  newData.forEach((item, index) => {\n    if (index !== newData.length - 1) {\n      todoStr += `<li class=\"py-4 border-b border-[#E5E5E5] flex items-center\">\n      <div class=\"checkbox_item w-5 h-5  bg-slate-500\">\n      <!-- noCheck -->\n      <div\n        data-status=\"noCheck\"\n        class=\" border border-[#9F9A91] rounded-[5px] w-5 h-5 cursor-pointer\"\n      ></div>\n      <!-- checked -->\n      <button data-status=\"checked\" class=\"select-none hidden\">\n        <img class=\"select-none\" src=\"./assets/images/check 1.svg\" alt=\"\" />\n      </button>\n    </div>\n      \n      <!-- 內容文字 -->\n      <p class=\"ml-4\">${item[\"content\"]}</p>\n      \n      <!-- 刪除按鈕 -->\n      <button origin_id=\"${item[\"id\"]}\" value=\"deleteTodo\" class=\"ml-auto mr-0\">\n        <img src=\"./assets/images/close (1) 1 (1).svg\" alt=\"\" />\n      </button>\n      </li>\n      `;\n    } else {\n      todoStr += `<li class=\"py-4 border-b border-[#E5E5E5] flex items-center\">\n    <!-- noCheck -->\n    <div\n      data-status=\"noCheck\"\n      class=\"noCheck border border-[#9F9A91] rounded-[5px] w-5 h-5 cursor-pointer\"\n    ></div>\n    <!-- checked -->\n    <button data-status=\"checked\" class=\"checked hidden\">\n      <img class=\"\" src=\"./assets/images/check 1.svg\" alt=\"\" />\n    </button>\n    \n    <!-- 內容文字 -->\n    <p class=\"ml-4\">${item[\"content\"]}</p>\n    \n    <!-- 刪除按鈕 -->\n    <button origin_id=\"${item[\"id\"]}\" value=\"deleteTodo\" class=\"ml-auto mr-0\">\n      <img src=\"./assets/images/close (1) 1 (1).svg\" alt=\"\" />\n    </button>\n    </li>\n    \n    <!-- ul_footer -->\n    <li class=\"flex items-center justify-between py-[25px]\">\n      <p class=\"text-sm\">${newData.length} 個待完成項目</p>\n      <button class=\"text-sm text-[#9F9A91]\">清除已完成項目</button>\n    </li>\n    `;\n    }\n  });\n  todo_ul.innerHTML = todoStr;\n}\n// 函式 => 篩選後渲染\nfunction filterRender(filterData) {\n  let todoStr = ``;\n  filterData.forEach((item, index) => {\n    if (index !== filterData.length - 1) {\n      todoStr += `<li class=\"py-4 border-b border-[#E5E5E5] flex items-center\">\n      <!-- noCheck -->\n      <div\n        data-status=\"noCheck\"\n        class=\"border border-[#9F9A91] rounded-[5px] w-5 h-5 cursor-pointer\"\n      ></div>\n      <!-- checked -->\n      <button data-status=\"checked\" class=\"hidden\">\n        <img class=\"\" src=\"./assets/images/check 1.svg\" alt=\"\" />\n      </button>\n      \n      <!-- 內容文字 -->\n      <p class=\"ml-4\">${item[\"content\"]}</p>\n      \n      <!-- 刪除按鈕 -->\n      <button origin_id=\"${item[\"id\"]}\" value=\"deleteTodo\" class=\"ml-auto mr-0\">\n        <img src=\"./assets/images/close (1) 1 (1).svg\" alt=\"\" />\n      </button>\n      </li>\n      `;\n    } else {\n      todoStr += `<li class=\"py-4 border-b border-[#E5E5E5] flex items-center\">\n    <!-- noCheck -->\n    <div\n      data-status=\"noCheck\"\n      class=\"border border-[#9F9A91] rounded-[5px] w-5 h-5 cursor-pointer\"\n    ></div>\n    <!-- checked -->\n    <button data-status=\"checked\" class=\"hidden\">\n      <img class=\"\" src=\"./assets/images/check 1.svg\" alt=\"\" />\n    </button>\n    \n    <!-- 內容文字 -->\n    <p class=\"ml-4\">${item[\"content\"]}</p>\n    \n    <!-- 刪除按鈕 -->\n    <button origin_id=\"${item[\"id\"]}\" value=\"deleteTodo\" class=\"ml-auto mr-0\">\n      <img src=\"./assets/images/close (1) 1 (1).svg\" alt=\"\" />\n    </button>\n    </li>\n    \n    <!-- ul_footer -->\n    <li class=\"flex items-center justify-between py-[25px]\">\n      <p class=\"text-sm\">${newData.length} 個待完成項目</p>\n      <button class=\"text-sm text-[#9F9A91]\">清除已完成項目</button>\n    </li>\n    `;\n    }\n  });\n  todo_ul.innerHTML = todoStr;\n}\n// 函式 => 新增待辦資料\nfunction API_Post(createObj) {\n  axios.post(API_url, createObj).then((res) => {\n    axios\n      .get(API_url)\n      .then((res) => {\n        newData = res.data;\n        init();\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  });\n}\n// 函式 => 刪除待辦資料\nfunction API_Delete(origin_id) {\n  axios\n    .delete(\n      `https://fathomless-brushlands-42339.herokuapp.com/todo3/${origin_id}`\n    )\n    .then((res) => {\n      console.log(res.data);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n// 函式 => 刪除全部待辦資料\nfunction API_DeleteAll() {\n  for (let i = 1; i <= newData.length; i++) {\n    axios\n      .delete(`https://fathomless-brushlands-42339.herokuapp.com/todo3/${i}`)\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n// 函式 => checkbox切換\nfunction checkBoxSwitch() {\n  $('.checkbox_item').click(function(e){\n    e.preventDefault()\n    $(this).find('div').toggleClass('hidden');\n    $(this).find('button').toggleClass('hidden');\n    $(this.parentNode).toggleClass('active-text')\n  });\n}\n\n// DOM => 抓整個todoList的form\nconst todoList = document.querySelector(\"#todoList\");\n// DOM => todoList的ul\nconst todo_ul = document.querySelector(\"#todo_ul\");\n// DOM => 抓取新增待辦的按鈕\nconst addTodo = document.querySelector(\"#addTodo\");\n// DOM => 抓取checkbox的按鈕\nconst checkbox_item = document.querySelector(\".checkbox_item\");\n\n// 監聽 => 整個todoList的form\ntodoList.addEventListener(\"click\", (e) => {\n  e.preventDefault();\n\n  // 監聽是否點到「全部」\n  if (e.target.textContent === \"全部\") {\n    console.log(\"點到全部\");\n    $(allList).addClass(\"active-border\");\n    $(hasToDoList).removeClass(\"active-border\");\n    $(finishList).removeClass(\"active-border\");\n    init();\n  }\n  // 監聽是否點到「待完成」\n  if (e.target.textContent === \"待完成\") {\n    console.log(\"點到待完成\");\n    console.log(e.target);\n    $(hasToDoList).addClass(\"active-border\");\n    $(allList).removeClass(\"active-border\");\n    $(finishList).removeClass(\"active-border\");\n\n    const filterData = newData.filter((item) => {\n      if (item[\"check\"] === false) {\n        return item;\n      }\n    });\n    filterRender(filterData);\n  }\n  // 監聽是否點到「已完成」\n  if (e.target.textContent === \"已完成\") {\n    console.log(\"點到已完成\");\n    console.log(e.target);\n    $(hasToDoList).removeClass(\"active-border\");\n    $(allList).removeClass(\"active-border\");\n    $(finishList).addClass(\"active-border\");\n\n    const filterData = newData.filter((item) => {\n      console.log(item);\n      if (item[\"check\"] === \"true\") {\n        return item;\n      }\n    });\n    filterRender(filterData);\n  }\n  // 是否點到「清除已完成項目」\n  if (e.target.textContent === \"清除已完成項目\") {\n    console.log(\"點到清除已完成項目\");\n  }\n  // 是否點到列表內的刪除鈕\n  if (e.target.parentNode.value === \"deleteTodo\") {\n    newData.forEach((item, index) => {\n      const origin_id = e.target.parentNode.getAttribute(\"origin_id\");\n      if (Number(origin_id) === item[\"id\"]) {\n        console.log(`有執行`);\n        API_Delete(origin_id);\n        newData.splice(index, 1);\n        init();\n      } else {\n        console.log(\n          `沒執行，按鈕的id是${e.target.parentNode.getAttribute(\n            \"origin_id\"\n          )}，而清單的id則是${item[\"id\"]}`\n        );\n      }\n    });\n  }\n});\n// 監聽 => 新增待辦的button\naddTodo.addEventListener(\"click\", (e) => {\n  console.log(innerText.value);\n\n  if (e.target.getAttribute(\"type\") === \"button\") {\n    if (innerText.value === ``) {\n      alert(\"請輸入待辦事項\");\n      return;\n    }\n    let createObj = {\n      content: innerText.value,\n      check: false,\n      // origin_id: 0,\n    };\n    // createObj['content'] = ,\n    // createObj['origin_id']=1,\n    innerText.value = ``;\n    API_Post(createObj);\n    // newData.push(createObj);\n    init();\n  }\n});\n// 監聽 => 在新增待辦區塊按下「enter」\naddTodo.addEventListener(\"keydown\", (e) => {\n  if (e.code === \"Enter\") {\n    if (e.target.value === ``) {\n      alert(\"請輸入待辦事項\");\n      return;\n    }\n    let createObj = {\n      content: innerText.value,\n      check: false,\n      // origin_id: 0,\n    };\n    // createObj['content'] = innerText.value,\n    // createObj['origin_id'] = 1,\n    innerText.value = ``;\n    API_Post(createObj);\n\n    // newData.push(createObj);\n\n    init();\n  }\n});\n"]}