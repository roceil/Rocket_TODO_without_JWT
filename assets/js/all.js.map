{"version":3,"sources":["all.js"],"names":["API_url","newData","createObj","content","check","origin_id","axios","get","then","res","data","init","console","log","todoStr","forEach","item","index","length","todo_ul","innerHTML","API_Post","post","API_Delete","err","API_DeleteAll","i","todoList","document","querySelector","addTodo","addEventListener","e","preventDefault","target","textContent","parentNode","value","getAttribute","Number","splice","innerText","push","code"],"mappings":"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","file":"all.js","sourcesContent":["\nconst API_url = `https://fathomless-brushlands-42339.herokuapp.com/todo3`;\n\nlet newData = [];\nlet createObj = {\n  content: ``,\n  check: false,\n  origin_id: 0,\n};\n\naxios\n  .get(API_url)\n  .then((res) => {\n    newData = res.data;\n    init();\n  })\n  .catch((res) => {\n    console.log(res);\n  });\n\n// 函式 => 初始化渲染\nfunction init() {\n  let todoStr = ``;\n  newData.forEach((item, index) => {\n    if (index !== newData.length - 1) {\n      todoStr += `<li class=\"py-4 border-b border-[#E5E5E5] flex items-center\">\n      <!-- noCheck -->\n      <div\n        data-status=\"noCheck\"\n        class=\"border border-[#9F9A91] rounded-[5px] w-5 h-5 cursor-pointer\"\n      ></div>\n      <!-- checked -->\n      <button data-status=\"checked\" class=\"hidden\">\n        <img class=\"\" src=\"./assets/images/check 1.svg\" alt=\"\" />\n      </button>\n      \n      <!-- 內容文字 -->\n      <p class=\"ml-4\">${item[\"content\"]}</p>\n      \n      <!-- 刪除按鈕 -->\n      <button origin_id=\"${item[\"origin_id\"]}\" value=\"deleteTodo\" class=\"ml-auto mr-0\">\n        <img src=\"./assets/images/close (1) 1 (1).svg\" alt=\"\" />\n      </button>\n      </li>\n      `;\n    } else {\n      todoStr += `<li class=\"py-4 border-b border-[#E5E5E5] flex items-center\">\n    <!-- noCheck -->\n    <div\n      data-status=\"noCheck\"\n      class=\"border border-[#9F9A91] rounded-[5px] w-5 h-5 cursor-pointer\"\n    ></div>\n    <!-- checked -->\n    <button data-status=\"checked\" class=\"hidden\">\n      <img class=\"\" src=\"./assets/images/check 1.svg\" alt=\"\" />\n    </button>\n    \n    <!-- 內容文字 -->\n    <p class=\"ml-4\">${item[\"content\"]}</p>\n    \n    <!-- 刪除按鈕 -->\n    <button origin_id=\"${item[\"id\"]}\" value=\"deleteTodo\" class=\"ml-auto mr-0\">\n      <img src=\"./assets/images/close (1) 1 (1).svg\" alt=\"\" />\n    </button>\n    </li>\n    \n    <!-- ul_footer -->\n    <li class=\"flex items-center justify-between py-[25px]\">\n      <p class=\"text-sm\">${newData.length} 個待完成項目</p>\n      <button class=\"text-sm text-[#9F9A91]\">清除已完成項目</button>\n    </li>\n    `;\n    }\n  });\n  todo_ul.innerHTML = todoStr;\n}\n// 函式 => 新增待辦資料\nfunction API_Post(createObj) {\n  axios.post(API_url, createObj);\n}\n\n// 函式 => 刪除待辦資料\nfunction API_Delete(origin_id) {\n  axios\n    .delete(\n      `https://fathomless-brushlands-42339.herokuapp.com/todo3/${origin_id}`\n    )\n    .then((res) => {\n      console.log(res.data);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}\n\n// 函式 => 刪除全部待辦資料\nfunction API_DeleteAll() {\n  for (let i = 1; i <= newData.length; i++) {\n    axios\n      .delete(`https://fathomless-brushlands-42339.herokuapp.com/todo3/${i}`)\n      .then((res) => {\n        console.log(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n\n// DOM => 抓整個todoList的form\nconst todoList = document.querySelector(\"#todoList\");\n// DOM => todoList的ul\nconst todo_ul = document.querySelector(\"#todo_ul\");\n// DOM => 抓取新增待辦的按鈕\nconst addTodo = document.querySelector(\"#addTodo\");\n\n// 監聽 => 整個todoList的form\ntodoList.addEventListener(\"click\", (e) => {\n  e.preventDefault();\n  // console.log(e.target.textContent);\n\n  // 監聽是否點到「全部」\n  if (e.target.textContent === \"全部\") {\n    console.log(\"點到全部\");\n  }\n  // 監聽是否點到「待完成」\n  if (e.target.textContent === \"待完成\") {\n    console.log(\"點到待完成\");\n  }\n  // 監聽是否點到「已完成」\n  if (e.target.textContent === \"已完成\") {\n    console.log(\"點到已完成\");\n  }\n  // 是否點到「清除已完成項目」\n  if (e.target.textContent === \"清除已完成項目\") {\n    console.log(\"點到清除已完成項目\");\n  }\n  // 是否點到列表內的刪除鈕\n  if (e.target.parentNode.value === \"deleteTodo\") {\n    newData.forEach((item, index) => {\n      const origin_id = e.target.parentNode.getAttribute(\"origin_id\")\n      if (Number(origin_id) === item['id']) {\n        console.log(`有執行`);\n        API_Delete(origin_id)\n        newData.splice(index, 1);\n        init();\n      } else {\n        console.log(`沒執行，按鈕的id是${e.target.parentNode.getAttribute(\"origin_id\")}，而清單的id則是${item['id']}`);\n      }\n    });\n  }\n  // 是否點到列表內的checkbox\n  if (e.target.getAttribute(\"data-status\") === \"noCheck\") {\n    console.log(\"點到noCheck\");\n    // todo => status為noCheck狀態時，最外層的li加上「active-text」的class\n    console.log(e.target.parentNode);\n  }\n  // 是否點到列表內的checked勾勾\n  if (e.target.parentNode.getAttribute(\"data-status\") === \"checked\") {\n    console.log(\"點到check的勾勾\");\n    // todo => status為checked狀態時，最外層的li加上「active-text」的class\n    console.log(e.target.parentNode.parentNode);\n  }\n});\n// 監聽 => 新增待辦的button\naddTodo.addEventListener(\"click\", (e) => {\n  if (e.target.getAttribute(\"type\") === \"button\") {\n    createObj['content'] = innerText.value,\n    createObj['origin_id']=1,\n    innerText.value = ``;\n    API_Post(createObj);\n    newData.push(createObj);\n    init();\n  }\n});\n// 監聽 => 在新增待辦區塊按下「enter」\naddTodo.addEventListener(\"keydown\", (e) => {\n  if (e.code === \"Enter\") {\n    createObj['content'] = innerText.value,\n    createObj['origin_id']=1,\n    innerText.value = ``;\n    API_Post(createObj);\n\n    newData.push(createObj);\n    console.log(createObj['origin_id']);\n    init();\n  }\n});\n"]}